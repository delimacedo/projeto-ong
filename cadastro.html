<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro - ONG Esperança Viva</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header class="topo">
    <h1>ONG Esperança Viva</h1>
    <nav class="menu">
      <ul>
        <li><a href="index.html">Início</a></li>
        <li><a href="projetos.html">Projetos</a></li>
        <li><a href="cadastro.html" class="ativo">Cadastro</a></li>
      </ul>
    </nav>
  </header>

  <main class="conteudo">
    <section class="secao-cadastro">
      <h2>Cadastro de Voluntário / Doador</h2>
      <form class="cadastro" id="formCadastro">
        <label for="nome">Nome Completo</label>
        <input type="text" id="nome" name="nome" required>

        <label for="email">E-mail</label>
        <input type="email" id="email" name="email" required>

        <label for="cpf">CPF</label>
        <input type="text" id="cpf" name="cpf" required maxlength="14" placeholder="000.000.000-00">

        <label for="telefone">Telefone</label>
        <input type="tel" id="telefone" name="telefone" required maxlength="15" placeholder="(00) 00000-0000">

        <label for="nascimento">Data de Nascimento</label>
        <input type="date" id="nascimento" name="nascimento" required>

        <label for="endereco">Endereço</label>
        <input type="text" id="endereco" name="endereco" required>

        <label for="cep">CEP</label>
        <input type="text" id="cep" name="cep" required maxlength="9" placeholder="00000-000">

        <label for="cidade">Cidade</label>
        <input type="text" id="cidade" name="cidade" required>

        <label for="estado">Estado</label>
        <select id="estado" name="estado" required>
          <option value="">Selecione</option>
          <option value="SP">São Paulo</option>
          <option value="RJ">Rio de Janeiro</option>
          <option value="MG">Minas Gerais</option>
          <option value="RS">Rio Grande do Sul</option>
          <!-- adicionar outros estados conforme necessário -->
        </select>

        <button type="submit">Enviar Cadastro</button>
        <div id="msgSucesso">Formulário validado com sucesso!</div>
      </form>
    </section>
  </main>

  <footer class="rodape">
    <p>&copy; 2025 ONG Esperança Viva — Todos os direitos reservados.</p>
  </footer>

  <!-- Script de validação e máscaras -->
  <script>
    const form = document.getElementById("formCadastro");
    const nome = document.getElementById("nome");
    const email = document.getElementById("email");
    const cpf = document.getElementById("cpf");
    const telefone = document.getElementById("telefone");
    const nascimento = document.getElementById("nascimento");
    const endereco = document.getElementById("endereco");
    const cep = document.getElementById("cep");
    const cidade = document.getElementById("cidade");
    const estado = document.getElementById("estado");
    const msgSucesso = document.getElementById("msgSucesso");

    // Máscaras
    cpf.addEventListener("input", () => {
      let v = cpf.value.replace(/\D/g, '');
      v = v.replace(/(\d{3})(\d)/, '$1.$2');
      v = v.replace(/(\d{3})(\d)/, '$1.$2');
      v = v.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
      cpf.value = v;
    });

    telefone.addEventListener("input", () => {
      let v = telefone.value.replace(/\D/g, '');
      v = v.replace(/(\d{2})(\d)/, '($1) $2');
      v = v.replace(/(\d{5})(\d)/, '$1-$2');
      telefone.value = v;
    });

    cep.addEventListener("input", () => {
      let v = cep.value.replace(/\D/g, '');
      v = v.replace(/(\d{5})(\d)/, '$1-$2');
      cep.value = v;
    });

    // Validação ao enviar
    form.addEventListener("submit", (e) => {
      e.preventDefault();

      if (!nome.value.trim()) { alert("Por favor, preencha o nome."); nome.focus(); return; }
      if (!email.checkValidity()) { alert("E-mail inválido."); email.focus(); return; }

      const cpfVal = cpf.value.replace(/\D/g, '');
      if (cpfVal.length !== 11) { alert("CPF inválido!"); cpf.focus(); return; }

      const telVal = telefone.value.replace(/\D/g, '');
      if (telVal.length < 10) { alert("Telefone inválido!"); telefone.focus(); return; }

      if (!nascimento.value) { alert("Preencha a data de nascimento."); nascimento.focus(); return; }
      if (!endereco.value.trim()) { alert("Preencha o endereço."); endereco.focus(); return; }

      const cepVal = cep.value.replace(/\D/g, '');
      if (cepVal.length !== 8) { alert("CEP inválido!"); cep.focus(); return; }

      if (!cidade.value.trim()) { alert("Preencha a cidade."); cidade.focus(); return; }
      if (!estado.value) { alert("Selecione um estado."); estado.focus(); return; }

      msgSucesso.style.display = "block";
      form.reset();
    });
  </script>
</body>
</html>